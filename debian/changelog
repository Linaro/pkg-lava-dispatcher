lava-dispatcher (2018.4-2) unstable; urgency=medium

  * Apply upstream fixes for decompression handler
  * Add Review 24854
     86362f Do not attempt to unzip on the fly
  * Add Review 24910
     1f7c5b5f1 Fix typo in 86362f and add debug

 -- Neil Williams <codehelp@debian.org>  Wed, 25 Apr 2018 08:51:53 +0100

lava-dispatcher (2018.4-1) unstable; urgency=medium

  * New production release
    4dd73b76a Fix wrong infra error when compressing with xz
    50a652a54 Add missing import and fix prospector warnings
    817fe007d LAVA-1234 - Man page for lava-lxc-mocker
    691041a1 compress: check that the tool does exists
    84df8c5d LAVA-1264 improve handling of cancellation
    02590e0b LAVA-1282 Only kill lava-slave
    1cbebc39 fix typo in manpage
    67a19da1 Add template testing for user-command and flasher
    40a9a97b Do not crash when command output is not utf-8
    73cd3623 LAVA-1266 - LAVA doesn't fail jobs that fail
      to flash partitions
    7340ad00 BootloaderCommandOverlay fix validate logic
    99526367 Log str representation of exception objects
    957cc171 LAVA-1278 use external decompression for .xz
    ee0921ab LAVA-648 Slave needs to check DNS
    896936c1 Update modprobe.d support (Closes: #888681)
    67f49224 Extend installer error prompt list
    43a29e4c Ensure QEMU iso method uses configured TFTP dir
    e88d3cb4 Python3 update for QEMU installer support
    a05f307d Decode returned log string to utf-8.
    52babb39 LAVA-1274 do not log a boolean
    15ba29b9 Fix shebang for python3
    4c960c49 test: fix file descriptor leaks
    a6fdafd9 Remove python2 specific code
    3e7891d1 Drop Python2 support
    8a7d655a Revert "shell: wait for prompt between each command"
    d5e15af2 Fix lava-os-build output
    303b3871 Remove deprecated lava-test-run-attach usage
    8cb5f120 Remove leftover from v1 in android helpers
    0e304335 shell: wait for prompt between each command
    b67fb420 Fix raise format
    351176ab Remove stale udev rules
    8d6c5ec7 Python3 fixes
    e8a757df LAVA-1167 allow removal of the .git directory
    54ad1fbe Remove jessie specific code
    f4784431 Remove v1 signal handler
    bb910afd Fixup connection.prompt_str assumption
    26897c46 LAVA-1257 do not crash when STARTRUN is missing
    bd6c2526 LAVA-1256 raise a JobError when url is missing
    0e255c3b Raise an Infra Error when an exe is not usable
    294a2322 Fix URLs referred in unittests to point to permanent location.
    a1474089 LAVA-1252 do not crash when device conf is missing
    5179d1de Device: factorize code
    c5645bc6 Remove power_on command as it's never used
    bf57d6fe Fastboot boot method should have a sequence associated with it.
    eab74bae Catch errors with lava_test_results_dir early
    b4ac1dbe Use the permanent location for WaRP7 unit test
    a41f73ee Remove empty class functions
    30b84f20 Fix format string when raising
    1854a1dd Do not print pipeline description to stdout
    0512e6ce Remove unused output_dir
    e5043cb3 run_command: split the output at the newline char
    cadd2123 Add a new deploy method called "flasher"
    00437106 Use job tmp directory for the compress overlay
    1158c5e7 Add a deploy method that only create the overlay
    eeac3e67 docker: only mount the overlay when available
    6916519d Make the helpers faster
    d8b205ee Specify the exception to raise when timing out
    ad106451 LAVA-1146 lava-slave removes stale resources
    67b18778 LAVA-777 make lava-slave restartable
    b61a58e5 Refactor lava-slave code
    cdd2ef54 Adding deployment action for MPS devices
    b8e7dc13 xnbd: fix killing of old xnbd-server process

 -- Neil Williams <codehelp@debian.org>  Fri, 13 Apr 2018 16:07:22 +0100

lava-dispatcher (2018.2-1) unstable; urgency=medium

  * New production release
    196029a2 Use a permanent image for unit tests
    7b9c3e84 Allow some deployments to not use deployment_data
    d5dc6418 ssh: fix comparison
    ebbd717b Remove spurious conditional in autologin
    b3e4d794 LAVA-1232 - LAVA LXC Mocker
    4d445841 Fixes for X15 fastboot_uboot
    fd6dbec5 actions/deploy/lxc: lxc-apt-install action add non-interactive mode
    1621ea5b LAVA-1202 - multiple boot + test section using transfer_overlay fails
    84d78a08 LAVA-1229 - read-feedback: failed on DUTs without telnet or ssh
    0ae6815e Ensure RetryAction has protocol support.
    6b96c961 LAVA-1227 - Handle cancellation within LXC
    ce1421a3 Update ZCU102 device file for bootloader changes
    d53e452c Fix login support for second UART
    a0104eb9 Remove unused pipeline reference file.
    a9f22a9c Allow for empty values in boot methods
    00addc73 Fix lookup for grubmenuselector interrupt prompt
    782e69d4 Allow skipping of kernel_start_message
    52ac66fa Make waiting for a bootloader prompt optional
    41f7d58d Not all boot methods have parameters
    8b0d03cd Remove deprecated actions in boot sequence.
    a3fb0095 Reorganize for hikey 960 AOSP support
    7d78da6e Fix usage of FastbootReboot
    161c1660 LAVA-1167 - Improve disk usage of test overlay tarball creation
    7306a5c6 download: record the http error code when failing
    fd1f7013 Pass USB devices to LXC via ID_FS_LABEL
    8bae0785 raise an infra error when docker is not installed
    414861e1 LAVA-1138 - panic not recorded by auto-login-action
    548a6bb1 LAVA-1224 - support for Xilinx ZCU102
    abb9869f Unit tests for 960 AOSP support
    0a2f84ce Fix man pages
    b15eb55e LAVA-950 use a ROUTER socket to connect to master
    7a936509 Fix logrotation by using WatchedFileHandler
    8f23430b Fix prospector warnings
    25859894 Better detect errors in the bootloader
    324615d7 LAVA-1165 - skip reading feedback on closed connection

 -- Neil Williams <codehelp@debian.org>  Thu, 08 Feb 2018 15:26:17 +0000

lava-dispatcher (2018.1-1) unstable; urgency=medium

  * New production release
    b0de4b84 Enabling energy probe data to be passed to LAVA test shell
    dd349a77 Use BaseException only when needed
    c1a0cd99 lava-slave: when canceling, wait for the job
    f00a7315 Port multinode to python3
    f937a861 docker deploy: fix python3 port
    11e3571d Generate the FIT image for Depthcharge
    d46f10c4 Update unit test sample file for images.v.l.o mirror.
    b4536e09 Include child devices of matched pyudev devices
    eb04f6fd Remove V1-only test shell helper scripts
    9f96a0c5 utils/udev.py: lxc_udev_rule only use logging-url arg
      when is not None
    781312b5 devices/db410c-01.yaml: Add cdt after aboot in flash order
    9e809927 LAVA-1172 add support for lava-target-storage
    53cfc7db Add support for the depthcharge boot method

 -- Neil Williams <codehelp@debian.org>  Mon, 08 Jan 2018 11:42:07 +0000

lava-dispatcher (2017.12-1) unstable; urgency=medium

  * 2017.12 production release
    1f13d442 Fix bug in calculating flash commands order in fastboot deploy.
    0b1f8fae LAVA-1155 - Create overlay as part of download deploy action
    c20269b9 Prevent crash if logfile is None in shell.
    b5244836 ensure lava-test-raise is available for packaging
    d3f70511 Fix function signature
    0fbaa24f Drop misleading warning message
    085a8d49 LAVA-1105 Disconnect from connections cleanly.
    32c6f7f4 LAVA-1132 - add an API for abort a test
    b5ebe130 LAVA-1127 - Extend bootloader reset messages.
    4b140ed4 LAVA-1142 fix VLANd overlay support
    bc7fdee8 ApplyOverlayImage init does not take any parameter
    d0ff1380 Use lazy logging
    334ccaab Never return/break/continue in finally block
    9e61e84d LAVA-1130 - Drop unimplemented CustomisationAction
    4772dd57 raise an infra error when dockerd is not running
    74871923 Indicated when helpers come from the distro
    ae5cdce3 slave: "lava-logs" is a reserved hostname
    e5713118 Use systemd for slave startup
    7ebeb578 slave: do not send status along END message
    054fcf9b lava-slave: make ping time configurable
    10ab9909 lava-slave: improving logging
    6a7bf9d5 Fix wrong duration when timing out at action start
    3013b1fa guestfs: change RuntimError into JobError
    0fd8a0d0 deploy/fastboot.py: Add sparse parameter to apply-overlay
  * Update build depends to use python3-sphinx
  * Drop dependency on python-daemon with move to systemd-sysv.

 -- Neil Williams <codehelp@debian.org>  Fri, 01 Dec 2017 19:07:13 +0000

lava-dispatcher (2017.11-1) unstable; urgency=medium

  * New production release
    d91a5b99 Revert "Stop parsing kernel messages when the end of a
        panic has been found"
    1451e3a4 LAVA-1098 unassigned variable in read_feedback
    437d57ba Rationalise the devices directory structure
    bdffb3bf Add power control to pyocd
    d9553680 Add feedback check to test shell
    06588ddf Receive the udev device directly from the udev rule
    d811b2a8 Fix license
    65d6c6a6 Move arduino101 dfu example urls to images.v.l.o
    61cff41c Only log when feedback content was found
    0ba35392 Move juno removable URLs to images.validation.linaro.org
    cb983d97 Cleanup after pytest runs
    997265c2 LAVA-1086 add handler to listen to feedback
    29a60e38 Add ConfigObj dependency for TFTP check
    70bd3fab Fix prospector warnings
    6edb8ef9 Fix missing import and other pylint issues
    6f7f5f05 Remove lava-lxc-device-* scripts which are unused.
    578b054b Use py.test
    65c03eca docker: allow passing extra options
    7b7d920a device-info should be yaml
    ef8f7d4c Remove deprecated function
    165e14f8 Fix linger period: set it to 10s instead of 5ms
    49c500ac Fix double crash when the process crash early
    7dbdc2b6 Add test case for secondary deployment writer tool parameters
    969459c6 LAVA-1069 - migrate dispatcher device configs
    9e8e5258 Use optargs to extend ci-run for python3
    e1c1561b Fix python3 breakage in unit test
    69277753 Read feedback when finalising connections
    0fb44088 LAVA-1067 Refactor fastboot flash operations
    9ac71872 Add missing import
    94430958 Ensure finalize always finalises protocols
    9d712364 Add option to not uniquify secondary image download paths
    cdfd5909 Fix master cert handling for lava-run and lxc helper
    73548f7a Rename dd params to tool for removable media
    1802c3e8 Handle master and slave certs as filenames only
    ed306477 Do not rely on SysV runlevel to ensure container is ready.
    75b47c6a Remove loop mounts via guestfs, while applying
        overlay to sparse image.
    cd1152e3 Support archlinux and slackware rootfs
    6fc024a5 Remove deprecated modules
    ddf5d2fc Remove v1 code
    5561be23 LAVA-1074 - second UART support
    758a41a6 Allow configurable writes for secondary storage deployment
    fb75db4a Add flag to disable uniquifying the download paths
  * Update for removal of V1 files
  * Update packaging of insecure keys
  * Remove dependency on kpartx and parted due to removal of V1.

 -- Neil Williams <codehelp@debian.org>  Mon, 06 Nov 2017 16:11:31 +0000

lava-dispatcher (2017.10-1) unstable; urgency=medium

  * New production release
    1b129396 Remove unnecessary calls to get_udev_devices.
    55cc9a0d Replace LxcAddDeviceAction with LxcCreateUdevRuleAction.
    9cf899df Include vendor and product id if available, while writing
      udev rule.
    5eea8b61 Add missing requirement for magic binding
    75b47c6a Remove loop mounts via guestfs, while applying overlay
      to sparse image.
    1f285ecf Ensure the image is Android sparse image before acting on it.
    44b8436a Add missing dependency on pytz
    b953a562 Append to the udev rules and avoid overwriting.
    44380b3e Add a new device type: docker
    336719bf Fix broken link in hikey960 unit test.
    1703dc94 Remove unused signals after introduction of udev based
      device addition.
    7f2f049e Always don't assume a ZMQ handler for logging.
    9fa3995e Fix a typo in log message.
    9cab91d0 LAVA-1046 allow sending logs from lxc udev scripts
    37c7e863 log: allow adding a linger when closing socket
    dd4f6b09 LAVA-1040 - Initial boot only support for artifact
      conversion in LXC
    7ed0674c logger: remove level and action name
    70fb64c4 lava-run: output_dir should be an absolute path
    8f31f584 Always revert directory changes
    40ca2c11 Add a timezone aware log message at job start
    79325b7b Ensure a retry sets a failed result
    b8527df2 Debug log message to know image files are copied to LXC.
    3665e840 Allow fastboot calls to fail and return the log
    7de0f887 Fix bug #3007 - Unable to reboot target between tests
      on hikey-hi6220
    dc5e5b18 Send a bad status only when lava-run crashed
    18607373 Write description.yaml when all logs where sent to lava-master
    e185d967 Move most exception handling to lava-run
    57829892 Move signal handling to lava-run
    d9d39463 Provide useful output when no classes accept an action
    1c45a4ad Setup logging as early as possible
    af4401f0 LAVA-1048 extend X15 support for U-Boot
    12711359 Raise an error instead of setting self.errors in run()

 -- Neil Williams <codehelp@debian.org>  Wed, 04 Oct 2017 08:54:43 +0100

lava-dispatcher (2017.9-1) unstable; urgency=medium

  * New production release
    255e1dc2 Allow use of lava-run from the command line
    5e3e4df8 parser: fix exception with unknown action
    b167715b Fix exception message
    75ef463a Add transfer_overlay support to fastboot
    4fcdbb0c LAVA-1020 - Allow branch to be specified for git
    d067a6e4 Remove FIXME about unused feature test-case-deps.
    93947b9d Fix job tmp_dir NoneType error.
    cf0095ca Extend NBD unit tests for template update
    ca72b0cc Honour reboot to bootloader irrespective of power state existence.
    b210b297 LAVA-1009 - Improve cleanup of temp files and containers
    70fb8c09 Add debug log at the right place for lxc-destroy command execution.
    51938bf5 Stop executing shell commands twice.
    60c39bae Create device-info-file consumed by udev rules in job's tmp_dir.
    46a9789d LAVA-1012 - Handle udev paths outside /dev/bus/usb
    c6e06463 LAVA-998 - Default to shallow clones in overlay
    b9cc1da8 LAVA-1001 - raise TestError on invalid signal call
    4a8241e1 Use check_output instead of Popen from subprocess module.
    7024de4c Move to permanent URLs for better unit test support
    4f32f4e2 Fix reference to smoke test
    927bb33a LAVA-1011 - Check for ENOSPACE after adding overlay to sparse image
    47608877 Add udev rule file contents to debug message.
    15d8adea Add more debug messages for udev rules addition on the fly.
    1b2c9252 Ensure auto-login-action can execute protocols
    44755d5a CTT-441 - lava-lxc-device-* don't work properly
    d55526c4 Add option to enable IPv6 connections
    07839bdf Raise a JobError when lava_test_results_dir is undefined
    3f9c87f5 Remove unneeded test
    003990f7 Add setproctitle as a python installation requirement to setup.py
    d04dcf58 Fix prospector warnings
    c2601cbe Extend pipeline_reference readme
    115d84ad Create a clean script to replace lava-dispatch for v2 jobs
    80bfa16e device: remove 'hostname' and 'target'
    b663e427 Do not crash when cleanup raises and exception
    fcbff4a6 Hikey 960 support for OE and AOSP
    bab3c6f1 Replace kernel.txt with a normal boot and add kernel-panic.txt
    c61c67bc Fix value of self.results['success'] in pipeline boot action
    6939c5ea Add pre-power command support to LXC protocol
    98ede789 LAVA-996 - preserve empty parameters in the overlay
    9d33ced5 Use encoding to pexpect.spawn for python3 support
    ce2dbd83 Stop parsing kernel messages when the end of a panic has been found
    b4ae5b4d lava-slave: Pretty print the configuration
    cf22ed83 Extend secondary media to mustang
    3e746b47 Add network block device boot support
  * Remove /etc/lava-dispatcher/lava-slave during purge
    (Closes: #867686)

 -- Neil Williams <codehelp@debian.org>  Mon, 04 Sep 2017 14:29:57 +0100

lava-dispatcher (2017.7-1) unstable; urgency=medium

  * New production release
    d8dabe63 Switch the print to a test in unit test
    d1e22b67 Revert "Replace invalid characters in test_case_id."
    b3b4f5ac Update the example to a working test job with prompts.
    504ec2bc LAVA-777 last log line should be lava.job result
    ad55acb9 Ensure overlay unpacking is clearly logged
    2e7c9598 Add pipeline_ref update for test skipped by lavabot
    ed936cd3 Simplify the power control actions
    78dcc1b0 Fix dispatcher configuration
    89880ce1 LAVA-96 Check for errors if a tftp file exceeds 4G
    6fd2702e LAVA-989 add extra logging for actions
    df86ed30 LAVA-990 add logging for VLANd + MultiNode support
    bbfb1817 Stop the unit test outputting noise
    c7839a98 Add a new log level for the DUT inputs
    2502b8af Destroy LXC containers properly.
    957734cf Add a unit test for Vland actions
    68468abe Handle a bad url cleanly.
    713d4e6e LAVA-645 - summarise slave logging
    96a5effe Do not raise exceptions in validate
    f45106fb Catch errors in testdef from handler cleanly
    f34f41e2 LAVA-984 - LXC protocol timeout to report job result
    e31722b5 Allow ci-run with updated pep8
    175d8e84 LAVA-931 - MultiNode lava-sync should report results
    fd944543 EOF in a test shell is an InfrastructureError
    429691d9 Support power control for CMSIS devices
    049c0227 lava-slave: add the right configuration for the host
    1e92bf38 lxc: improve error message
    b2f25cf0 Add support for booting from UEFI shell
    67a1e1c6 ramdisk: only pass to bootx if has u-boot header
    f4a4abd9 LAVA-967: check namespaces usage
  * Allow use of /srv/tftp in tftpd-hpa (Closes: #849237)
  * Move ser2net to Recommends. (Closes: #849229)

 -- Neil Williams <codehelp@debian.org>  Thu, 06 Jul 2017 18:18:03 +0100

lava-dispatcher (2017.6-1) unstable; urgency=medium

  * New production release
    38da5d8 LAVA-974: Fix init script and allow to set hostname
    0fd687e Don't use os.path.realpath() on device names
    d84dab7 Modifying vemsd deploy action to use ResetDevice
    d21385e testdef: get 'revision' from the right variable
    5ea16fe Rework test shell feedback timeouts
    510c4e5 Declare the feedback timeout
    b994757 Use pyudev device links as well as device nodes
    e609c22 Fix namespace usage in power commands.
    39e2e7e Read from feedback connection during long operations
    7be926a Allow tar.gz firmware bundles
    20e66c1 overlay: Raise JobError if root_partition is None
    4e27fcd LAVA-935 - Provide feedback output from connections
    831c71c Fix bug #3032 - Running an LXC/Hikey job without a test action ...
    84e7378 Fix namespace issue in NFS deployment action
    f1f8d71 Add login_prompt valid test case
    7dc48aa Issue lxc-stop before destroying a container.
    3e1cb07 Changing udev checks to only look for FS label
    d08db39 Fix #3010: set logging timezone to UTC
    1b664e5 LAVA-955 - Remove 'arch' parameter from lxc protocol.
    8a4dbc7 Increase LXC finalize timeout to 90 seconds similar to multinode.
    3823c49 Use one debug log call to log the same kind of message in
              lxc protocol.
    5db313c Creating vemsd mount points
    ea03ef1 Fixing boot test issues using NFS deploy action
    d1f4a30 Fix rebase error with grub prompt constant
    b2aef8b device-types: add sun6i-a31-app4-evb1
    8ceca07 Make grub use interrupt prompt and character from constants
    b495a35 device-types: add ttyAT0 to Atmel devices to support
              multiv7_defconfig
    3a89027 device-types: fix at91sam9x25ek to use bootz
    9e00895 Set download max_retries in the constructor
    959480c Add minimal boot action
    31fd021 User command: do not clean if it was not executed
    26572a2 Fix keys and label that were outdated
    67dd60e Remove unused functions
    0c100ff Remove boot-result common data
    342039a Fix RetryAction inside a RetryAction
    9ce430f Fix check on LXC for default usage.
    0576754 Fix typo: Use pixel job create function for testing pixel device.
    e7a4422 Fix typo: remove visibility added twice.
    9e67b6d LAVA-855 - ART CI: Intel NUC device integration for LAVA v2
    dd5d874 Ensure all deployments can add LXC devices except QEMU
    e72d490 Fix pipeline refs for change in monitor retry
    cb57d2b LAVA-942 UEFI Menu and command lists
    e57013b Start adb daemon before attempting adb commands.
    ac389ad lava-slave: remove tmp dir when END_OK is received
    632a0ff Fix device configuration
    0cffce4 Fix validation of boot auto_login parameters and add a unit test
    7e40701 Allow unix line separators for some UEFI devices
    095798a Avoid calling cleanup in validate
    f98dade Allow updating all pipeline_refs at a time.
    31b62dd LAVA-928 - HiKey issue when switching between AOSP and OE
    51f40ef Make soft reboot optional LAVA-846
    4d43d02 HiKey Grub EFI support
    874f889 Avoid logging the same message twice.
    3be27df lxc protocol: simplify the tests
    75126ff Do not set self.errors when Action.run fail
    ce32bfb Do not use self.errors in Action.run()
    a5d9eba Fix detection of missing ssh_host value in validate
    234eef9 Fix calling of protocols after LXC change
    477a36b tests: make ShellCommand.logger a DummyLogger
    62867f4 Use images.validation.linaro.org files for unit tests
    1868936 Silence logging in more unit tests
    609c783 Fix download action name
    b170197 More tweaks to silence messages from the unit tests
    29efa26 Adjust for pep8 checks in jessie
    0733f89 Make sure the test_character_delay is used for all commands
              in test shell
    78d2509 Account for empty environment string.
    ea09b19 Take namespace into account when counting test stages
    734688c Declare namespace of the test suite in results
    60561c2 Parser: remove unused context
    49a6b92 Drop noisy info log message.
    8ed8467 lava-test-monitor: use TestMonitorRetry action
    4fd5d4a Drop unused imports and unused variables
    678b216 Rework the removable action to allow sd cards
    3b42122 Fix bug #2975 after qemu-nfs introduction
    7462ea6 Expand LXC support to add devices from all sybsystems
    b853865 Fix missing check for u-boot commands parameters
    8293693 Replace invalid characters in test_case_id.
    a94e0f2 Fix preseed/late_command appending
    9647d55 Run login_commands if provided in auto_login
    db03483 Fix Action names (use - instead of _)
    9e836e6 Add a Command Action
    bbd4ba2 Make the parser stricter about the block names
    65b3a56 Allow to pass integers to run_command
    b41326b Raise JobError instead of NotImplementedError
    073f3b3 update gitignore
    00f5d33 log: limit the length of lines send other zmq
    3f99cc3 Add missing super call to WaitUSBDeviceAction
    5b2b074 LAVA-889 Fix handling of multiple test blocks
    5436658 Fix indent typo
    3bfdcdb Add support for use_xip
    8df17dd Add support for append_dtb
    3c110ca Remove unused imports
    4847bf1 Put device rebooting info message at the correct place.
    6b85382 Fix call to lava-lxc protocol for pre-os-command
    176a4d4 Add new utility function infrastructure_error_multi_paths
    bdb4d12 Fix test_lxc_api unit test
    dc008eb Export the full version string.
    e9df320 LAVA-920 - Workaround ptable issue in firmware
    7b4096c Allow LXC protocol to call pre-os-command
    b33d04b Fix OE image support for HiKey.
    d714a9b Add missing test shell helpers
    daebfad Extend secondary connection fix to support primary
    9518e74 Add missing import
    e97801d Add optional deployment complete message list to secondary
              media deployments
    fae0ced Move unnecessary constants into base jinja template.
    18f745b device-types: add kirkwood-db-88f6282.conf
    815e518 device-types: add at91sam9m10g45ek.conf
    6ca0731 device-types: add at91rm9200ek.conf
    003b53d device-types: add at91-sama5d4_xplained.conf
    9b2371c device-types: add armada-3720-db.conf
    5a76733 device-types: add armada-xp-gp.conf
    8b05093 device-types: add kirkwood-openblocks_a7.conf
    f5801d3 device-types: add alpine-v2-evp.conf
    19e2027 device-types: add sama5d34ek.conf
    49da704 device-types: add armada-385-db-ap.conf
    ed7aa6b device-types: add armada-370-db.conf
    9a10432 device-types: add at91-sama5d2_xplained.conf
    ddb34ce device-types: add alpine-db.conf
    f7642f5 device-types: add armada-375-db.conf
    0d70c7d device-types: add at91sam9x35ek.conf
    a642d45 device-types: add armada-xp-db.conf
    2a5ff9e device-types: add armada-7040-db.conf
    1a43999 device-types: add orion5x-rd88f5182-nas.conf
    ad855a6 device-types: add armada-xp-linksys-mamba.conf
    58308ca device-types: add armada-388-gp.conf
    6a2898b device-types: add armada-370-rd.conf
    cd1b4f4 device-types: add armada-398-db.conf
    51925fb device-types: add sun8i-a83t-allwinner-h8homlet-v2.conf
    4976d06 device-types: add sun8i-a33-sinlinx-sina33.conf
    681480d device-types: add sama5d35ek.conf
    db74d60 device-types: add sun5i-r8-chip.conf
    40736b9 device-types: add sama5d36ek.conf
    433be0a device-types: add imx6q-nitrogen6x.conf
    ed4c82e device-types: add at91sam9x25ek.conf
    ce7a488 device-types: add at91sam9261ek.conf
    f87cdb4 device-types: add armada-xp-openblocks-ax3-4.conf
    634442c device-types: add armada-388-clearfog.conf


 -- Neil Williams <codehelp@debian.org>  Thu, 15 Jun 2017 12:47:33 +0100

lava-dispatcher (2017.5-1) unstable; urgency=medium

  * New production release
    3be27df4 lxc protocol: simplify the tests
    a5d9ebad Fix detection of missing ssh_host value in validate
    234eef91 Fix calling of protocols after LXC change
    477a36b7 tests: make ShellCommand.logger a DummyLogger
    62867f49 Use images.validation.linaro.org files for unit tests
    1868936c Silence logging in more unit tests
    609c783c Fix download action name
    b1701978 More tweaks to silence messages from the unit tests
    29efa263 Adjust for pep8 checks in jessie
    0733f89f Make sure the test_character_delay is used for all
    commands in test shell
    78d2509f Account for empty environment string.
    ea09b19a Take namespace into account when counting test stages
    734688c5 Declare namespace of the test suite in results
    49a6b92c Drop noisy info log message.
    4fd5d4af Drop unused imports and unused variables
    678b216c Rework the removable action to allow sd cards
    3b42122a Fix bug #2975 after qemu-nfs introduction
    7462ea62 Expand LXC support to add devices from all sybsystems
    b853865f Fix missing check for u-boot commands parameters
    8293693c Replace invalid characters in test_case_id.
    a94e0f24 Fix preseed/late_command appending
    db03483a Fix Action names (use - instead of _)
    9e836e64 Add a Command Action
    bbd4ba25 Make the parser stricter about the block names
    65b3a563 Allow to pass integers to run_command
    b41326bc Raise JobError instead of NotImplementedError
    073f3b34 update gitignore
    00f5d33f log: limit the length of lines send other zmq
    5b2b0746 LAVA-889 Fix handling of multiple test blocks
    3bfdcdb6 Add support for use_xip
    8df17dd7 Add support for append_dtb
    3c110cae Remove unused imports
    176a4d49 Add new utility function infrastructure_error_multi_paths
    dc008eb5 Export the full version string.
    daebfad1 Extend secondary connection fix to support primary
    fae0ced5 Move unnecessary constants into base jinja template.
    18f745bc device-types: add kirkwood-db-88f6282.conf
    815e518d device-types: add at91sam9m10g45ek.conf
    6ca0731f device-types: add at91rm9200ek.conf
    003b53dc device-types: add at91-sama5d4_xplained.conf
    9b2371cf device-types: add armada-3720-db.conf
    5a767331 device-types: add armada-xp-gp.conf
    8b050938 device-types: add kirkwood-openblocks_a7.conf
    f5801d38 device-types: add alpine-v2-evp.conf
    19e20276 device-types: add sama5d34ek.conf
    49da704f device-types: add armada-385-db-ap.conf
    ed7aa6b1 device-types: add armada-370-db.conf
    9a104327 device-types: add at91-sama5d2_xplained.conf
    ddb34cea device-types: add alpine-db.conf
    f7642f58 device-types: add armada-375-db.conf
    0d70c7dd device-types: add at91sam9x35ek.conf
    a642d451 device-types: add armada-xp-db.conf
    2a5ff9e4 device-types: add armada-7040-db.conf
    1a439995 device-types: add orion5x-rd88f5182-nas.conf
    ad855a62 device-types: add armada-xp-linksys-mamba.conf
    58308ca1 device-types: add armada-388-gp.conf
    6a2898bf device-types: add armada-370-rd.conf
    cd1b4f47 device-types: add armada-398-db.conf
    51925fb1 device-types: add sun8i-a83t-allwinner-h8homlet-v2.conf
    4976d068 device-types: add sun8i-a33-sinlinx-sina33.conf
    681480d5 device-types: add sama5d35ek.conf
    db74d60e device-types: add sun5i-r8-chip.conf
    40736b95 device-types: add sama5d36ek.conf
    433be0a6 device-types: add imx6q-nitrogen6x.conf
    ed4c82e6 device-types: add at91sam9x25ek.conf
    ce7a488e device-types: add at91sam9261ek.conf
    f87cdb49 device-types: add armada-xp-openblocks-ax3-4.conf
    634442ca device-types: add armada-388-clearfog.conf

 -- Neil Williams <codehelp@debian.org>  Mon, 08 May 2017 10:33:45 +0100

lava-dispatcher (2017.4.post1-1) unstable; urgency=medium

  * Production hotfix release for LKFT support.
    3f99cc3 Add missing super call to WaitUSBDeviceAction
    5436658 Fix indent typo
    4847bf1 Put device rebooting info message at the correct place.
    6b85382 Fix call to lava-lxc protocol for pre-os-command
    bdb4d12 Fix test_lxc_api unit test
    e9df320 LAVA-920 - Workaround ptable issue in firmware
    7b4096c Allow LXC protocol to call pre-os-command
    b33d04b Fix OE image support for HiKey.
    d714a9b Add missing test shell helpers
    9518e74 Add missing import

 -- Neil Williams <codehelp@debian.org>  Fri, 21 Apr 2017 08:19:52 +0100

lava-dispatcher (2017.4-1) unstable; urgency=medium

  * New production release.
    7aac7ae5 Fix problem with self.host on secondary connections
    530ca366 Ban / in test case names, replace with underscore.
    31ee0012 If allow_fail is not set, ensure the command fails
    e53a280f Remove old device_type config files which are unused.
    80fb3997 LAVA-916 - Restore adb connectivity with hikey in V2
    c57a102b Add debug output to the LXC device operations.
    7deea0fb Add missing calls to super
    341ac593 Writing connection info to namespace data
    3ee2af87 Upgrade the boot commands output to info
    a1a87daa Fix bug in checking return value of action run_command output.
    604323b0 Add a unit test for primary ssh connections
    561f78a6 LAVA-914 - Action run_command should return log on allow_fail
    a8fb0d9d device-types: add Armada 8040 DB board
    98fc1d4d LAVA-911 transfer overlay to the rootfs
    e85af0a2 Report versions of critical software on the worker
    bdc97bd5 LAVA-901 - Allow lxc debug output if requested in job
    93aab7ab Add systemd packages as default for debian and ubuntu templates.
    d01f01a3 Allow params for install git repos support
    eb821dc8 testdefs: rename the extra results keys
    f262b21c testdefs: fix TOCTOU issues with test definitions
    07affb55 Print warnings in validate and not in populate
    3de0aac9 Make empty revision message more friendly
    685eea49 Do not populate append when using tmpfs GuestFS
    22a7ba93 Add missing imports
    a1baf85e Add missing JobError import.
    9e8c3c2f Improve validate and job summary
    b1100080 Catch error in secondary connections
    7428a9ae Improve git error logs
    949b3fcd Rework the timeout settings in job and device conf
    6933ac63 download: improve error message
    304c39f7 LAVA-852 - LXC fastboot support for persistent devices in V2
    fc28aafe Add an error type to the job result
    522946b8 Make '/sys/class/misc/kvm' a constant.
    f9a1b381 tests: use the DummyLogger whenever needed
    ee11c796 tests: use permanent urls
    538ff35f Context architecture validation for qemu.
    bd88adab Check for enabled kvm module on workers.
    28c66090 Fix bug #2898 - Job doesn't exit on fastboot-deploy failure
    2879c019 Handle qcow2 conversion errors
    7daf65d1 Action: use LAVAError base exception class
    603fd049 shell: remove unused exception handling
    da97077d Add missing import and remove uneeded one
    beccc4da LAVA-215 QEMU NFS support (dispatcher)
    c2e3ee34 Use DummyLogger for grub and add .target()
    ed3519d2 Get uboot header length from utils.constants
    7df2904d If no kernel type given in deploy, use the boot type
               until deprecated
    82237860 Ensure the deployment data shell is exported.
    108ef4a3 Add the commit-id to the lava testdef results
    1e3dd3ce run: improve error handling
    41b08257 lava-dispatch: use the new LAVAError base class
    171e8b65 device-types: add Allwinner A23 EVB board
    5898747b device-types: add OrangePi PC board
    4ffb4c1e Simplify lava-test-shell by removing stdout.log
    a5222296 validate: improve error handling
    c2df0b20 Remove the message from cleanup()
    78c334c2 Simplify test/shell.py check_patterns signals.
    68f1c822 test-runner: remove redundant functions and files
    3fe2105e Fix bug #2888 - adb root command from job breaks connection
               to device
    22157cd2 Add a base class for LAVA exceptions
    44af91c3 Support using UEFI Menu to load Grub using PXE
    b667f2fd Use LAVA exceptions
    1690ed95 Pylint updates for deploy actions
    e538b5d8 LAVA-890 - Allow DUT to stay in Android OS
    bbcf76fd Raise a TestError when the test installer fails
    0d45d8fa test-runner: use the current shell
    27593024 Blacklist brltty on workers
    e2593966 Allow reusing of serial connection from another namespace.
    cfe9821b LAVA-867 - Allow fastboot options in device dictionary
    d5094f28 Fix unknown usage command in lava-test-reference
    381eca8d LAVA-881 - Sequence list for fastboot pipeline
    e84c00b1 action: be consitent when printing result duration
    82d7f82f Print the result of a test run only when avaiable
    1d09ece0 Catch python3 errors to clean up output
    833d7207 python3: only show requests logs above warnings
    5fb1e8a0 rpcinfo: also capture the output
    496c7181 Sanitise default mkimage_arch and kernel handling
    a6838ecb LAVA-862 - Integrate Google Pixel into LAVA V2
    d2f968e3 Follow up to stabilize dragonboard 410c.
    8ab18e05 rpcinfo check needs to specifically check NFS service
    61777bb0 Refactor wait usb device action to stabilize dragonboard 410c.
    e7649e64 Remove references to device_path in device configuration.
    3fd11d81 LAVA-856 - Integrate nexus5x into LAVA V2
    d970298d Adding new action for monitoring USB mass storage devices via udev
    94876fd7 pyocd: allow multiple images to be flashed
    26528b0c Detect bootloader resets.
    09650ab1 Adding a Versatile Express Firmware deployment action
    605fe529 Detect errors during auto login.
    00306b79 Job: log the job result as a logger.results

 -- Neil Williams <codehelp@debian.org>  Mon, 10 Apr 2017 13:50:02 +0100

lava-dispatcher (2017.2-1) unstable; urgency=medium

  * New production release
    ba779908 testdef: set "set +x" to avoid duplicating SIGNALS
    ae2ab424 Enforce a download order to produce predictable pipelines
    55a39b92 Remove unnecessary boot action in fastboot x15
    81b178fc Add a unit test for db410c pipeline generation.
    aa96dd75 LAVA-839 - Integrate X15 into LAVA V2
    14acd2e2 Fixup u-boot prompts sanity
    829fa380 Support CMSIS-DAP devices that do not reset after being flashed
    d09a7a74 Simplify send_char support
    031ba8e8 Ensure dispatcher.yaml is available for admins
    aa6142dd Detect pdu controlled device using availability of power command.
    c54891b9 Properly isolate stdout and stderr in unit tests
    2d8b3110 Ensure lava-test-reference is available for release
    555b6be0 Skip one test if lxc-info is not installed
    fc42bd89 Fix support for persistent NFS
    57c96b4b Remove duplicate prompt handling.
    b0d39204 LAVA-844 allow string and dict for install: git-repos
    76998b75 LAVA-830 Use the configured TFTP directory
    1f01283f Partially revert a1658c by using a DEALER socket
    9045292b Allow boot commands in the job definition
    af34dfcb Extend the timeout unit tests to boot actions
    9135c5aa Add support for CMSIS-DAP IoT devices and cleanup PyOCD
    96dcc7d7 Only match udev events when device is added
    a1658c7e slave: use a ROUTER socket to connect to master
    35937826 Fix prospector warnings
    e4e2fb97 etc/lava-slave: fix documentation of WARN log level
    b45cb005 Remove unsed imports
    93a282bf Job: log known error status when leaving
    ee404039 lava-dispatch: allow to run without zmq logging
    26daca49 lava-dispatch: work around a variable clash
    c62e1ee9 LAVA-814 - Explore pyudev for usb device wait
    989cd97b LAVA-827 ensure the case name is a valid URL
    570c1b1e Do not reset the timeout before each connection

 -- Neil Williams <codehelp@debian.org>  Wed, 08 Feb 2017 16:00:24 +0000

lava-dispatcher (2017.1-1) unstable; urgency=medium

  * New production release
    64ae9131 Report the bootloader load addresses used
    2085ffb8 Skip parsing of kernel messages for ssh connections
    00fa2d24 Improve allow_fail fault handling
    dce680f3 Simplify the connection session handling
    ea18594a Use dpkg-query which is available on all systems
    2cc64b70 Reinstate git version_tag in version.py
    5c05bdae Improve logging
    50236943 LAVA-821 - lava-test-reference support
    a118e943 Add missing wait definition in base class
    2dc955f6 Allow timeout during Linux Kernel message parsing
    0404a419 LAVA-819 - record lava-dispatcher version in logs
    542effdf Raise an Infra error when download fail in run()
    29a232c1 Fix Download retries crashes
    12e5789f monitor: make test a bit faster
    a90a5184 Fix computation of action duration
    ffd1d176 Fix retry logic (partial revert of 7bbd706d)
    36ca3c21 LAVA-818 - errors should set the job as Incomplete
    f5ac0328 Skip generation of invalid test_case_id
    9e5e56c6 Re-enable support for nose tests
    bb89772f Merge and re-use BootloaderCommandOverlay and
     BootloaderCommandAction
    f3864c2f job: fix cleanup when validation failed
    8dd450c5 run_actions: clean error messages and exceptions
    ec44db64 Properly compute the timeout
    f3058a12 atexit is not needed anymore for cleanup
    7bbd706d Improve error handling and reporting
    a5e0e678 Fix issue when downloading two files with the same name
    0d3773ea Call finalize directly in job.cleanup
    af608eb2 Remove unused setter, properties and __call__
    f946a21d validate: do not extend action.errors
    4504aeb9 slave: use the dispatcher configuration
    925019c8 Use the dispatcher config to get the dispatcher ip

 -- Neil Williams <codehelp@debian.org>  Wed, 11 Jan 2017 13:58:56 +0000

lava-dispatcher (2016.12-1) unstable; urgency=medium

  * New production release
    19fd79a9 Update preseed support for namespace changes
    ef352abf Update zephyr sample jobs to use LAVA functional test urls
    1301258a LAVA-498 - Support dragonboard-410c with lxc
    1e0b60d2 Ensure pyudev version is >= 0.21
    7d6a8134 Update the DFU boot code for namespace changes
    161e8b47 Ensure installer tests share the final connection
    567ddf0d remove duplicate call
    e49bd971 Fix namespace error in flash_cmds_order retrieval.
    cb04549d Set connection for secondary media deployments
    dcd75e7b Use correct suffix for secondary media deployments
    2a7b386f Declare the original ramdisk as compressed
    fd73e937 Support DFU devices
    6aa7280c LAVA-504 - Dynamic fastboot partition support in pipeline
    9228901a LAVA-809 - Show HiKey kernel boot messages
    774c7557 Extend namespace fixes for secondary connections
    dc5bec22 Action: Always call super() in validate()
    9b983cdf GitRepoAction: do not call validate twice
    bd112aab Make namespaces common to all dynamic data operations
    2e83e2ca Prevent invalid measurements being reported
    1768c181 Fix testlevels for multi-test LXC jobs
    0a49da8e Give namespaces to all actions and support simpler code flow
    2423a123 slave: send the protocol version with HELLO message
    983d3775 Ensure fixupdict is checked in test_case_result
    08f79918 slave: writing an empty string to a file is valid
    c6f382ef Move cleanup_actions from Action to Job
    bc56ca24 Remove unused Action, Pipeline and Job members
    1256f31e Run.sh should use set -x
    a726be8f Allow install-steps to use the git-repo directly
    b0ca553a Create a useful exception message
    077aca26 slave: don't crash when lava-dispatch can't start
    543ed4af Honor USB device wait timeout and add device before
               returning connection
    0e07089f Fix problem with duplicate test shells failing
    f14747c1 Use dnf instead of yum on Fedora version greater than or
               equal to 22.
    efdaabc1 More fix for usage of LXC with a device.
    2d188baa Limit repetitive kernel message log entries
    c3455a11 Allow newline line separator to be overridden per bootloader
    01a482f6 Fix for Debian reproducible builds.
    62c07465 Indicate that character delay is in milliseconds
    c1f79680 Remove hardcoded character delay in ipxe
    e43552b3 Fixing secondary media deployment
    e885c881 device-types: add Renesas r8a7795 Salvator-X board
    1374289b device-types: add Amlogic meson-gxbb-odroidc2

 -- Neil Williams <codehelp@debian.org>  Thu, 22 Dec 2016 11:48:13 +0000

lava-dispatcher (2016.11-1) unstable; urgency=medium

  * New production release aimed at Stretch.
    Release details available at:
    https://projects.linaro.org/browse/LAVA-789?filter=12078
  * Update compat
  * Highlights of upstream changes:
    Ensure namespace is available to the test shell.
    cpio output is not an error
    Downgrade message match failure to a warning
    Fix up usage of LXC with a device
    Only attempt lxc-destroy if the container exists based on exitstatus.
    Drop ShellLogger __del__ command
    Improve accepts for monitored QEMU
    Strategy needs to check methods, not device_type
    Support parallel (pbzip2) compressed bzip2 files
    Allow vendor U-Boot builds using Ctrl interrupts
    Improve cpio extract command line and error message
    slave: do not send None as error code
    slave: send a SIGINT to lava-dispatch to cancel
    Making target IP and MAC addresses available in lava test shell
    TestShell: allow multiple test shells
    Fix kernel message detection for panic
    testdef: remove unused common data
    Fix the logic regarding the pipeline building
    shell: make testdef_index common data a list
    device/target: allow multiple boot control chars
    Add 943907AEVAL1F to pyocd deploy supported devices
    Check if container exists before destroying.
    Do not generate results.yaml
    Fix uefi_menu pipeline for fastboot.
    slave: move tmp files to /var/
    Add device to lxc only when it is available.
    device-types: add Amlogic meson8b-odroidc1 board
    LAVA-755 - use UUID for guest, not label.
    slave: send an error code when err is not empty
    Fix git-repos reference in inline test definition.
    Allow a different bootloader interrupt character
    Make pipeline logging python3 compatible
    slave: fix a crash under python3
    device-types: add Amlogic meson-gxbb-p200 board
    device-types: add TI da850-lcdk
    bootloader: add ramdisk_raw option
    Detect invalid characters in testdefinition name
    Fix timeout inheritance from job definition blocks
    Set the right permis when creating the ramdisk dir
    ci-run: exclude the .eggs directory
    tests: Close the file descriptors
    Fix root directory of V2 apache config
    LAVA-760 - Trim LXC log output
    Require a summary and description to validate
    Additional changes for removable media usage
    Fix extra_options to always be a list of strings
    Do not set kernel type for all 'kernel' YAML keys
    Action: re-raised the exception without modification
    LAVA-748 ensure test definition names are unique
    Change sample jobs urls to images.v.l.o
    Allow testdefinitions without run steps
    Generate the pipeline description on the slave
    slave: fix the END message parameters
    Use the QEMU extra options where available
    slave: resend the END message if the ack was lost
    slave: send the error file along with the END message
    Move tmp files to /var/lib/lava/dispatcher/job_id/
    Only extract the nfsrootfs once.
    Use the uboot interrupt prompt from templates
    Improve LXC HiKey support.
    Don't end test shell at invalid testcase name
    SignalMatch: simplify and fix exception message
    Shell: improve report formatting
    Shell: factorize handling of measurements
    RetryAction: log errors
    Shell: factorize signal handling
    Move override and log_results functions into Action
    Initial support for PyOCD
    Use \r\n for newlines
    Allow guest drive interface to be specified
    allow-modify functionality added

 -- Neil Williams <codehelp@debian.org>  Wed, 09 Nov 2016 11:56:32 +0000

lava-dispatcher (2016.9-1) unstable; urgency=medium

  * 2016.9 production release
    Catch the edge case where serial line corruption means we miss the testrun
    Add support for alternative Test actions
    Update manpage of lava-slave for configuration change.
    Allow configuring the slave from file
    git: use -C instead of --git-dir
    Allow setting the envrionment on most systems
    Handle exceptions from subprocess from compression
    download: don't expand the path when retrying
    Grab finalize from the root pipeline
    Log exception as strings and not objects
    LAVA-740 - export vlan names and interface names
    Reopen log file when rotating the logs
    LAVA-699 - Support hi6220-hikey board with lxc
    Init: remove the right lock file and simplify
    pipeline:vland: raise JobError if switch_id or port_id is None
    Remove redundant assignation
    Allow logging at the validate stage
    Force the shell to produce an initial prompt
    Handle errors if the testrun start is omitted.
    Pipeline parser: sort and reverse in one call
    logs: remove unused support for local logs
    slave: put all tmp files into the same directory
    Power: improve logging message
    Exclude patterns from description
    Port lava-slave to Python3
    ApplyOverlayTftp: remove duplicated untar_file
    ExportDeviceEnvironment: only source valid shell_file's
    add LEDE to available distributions
    Always log the command to be run beforehand.
  * Update lava-slave file handling
    The daemon is no longer optional, so remove the
    old conditions. Add support for the option file in
    /etc/lava-dispatcher/lava-slave
  * Add override for new lava-vland-names test helper

 -- Neil Williams <codehelp@debian.org>  Wed, 07 Sep 2016 07:35:09 +0100

lava-dispatcher (2016.8-1) unstable; urgency=medium

  * New production release
    Only require conversion parameters if using conversion.
    Support some basic kernel conversion tasks
    Export the 'secrets' dictionary to the overlay
    uboot: only log self.errors when it's not empty
    Enabling NFS only deployment
    Fix connection_timeout handling for lava-test-shell
    validate needs to set errors, not raise
    Fixes for multinode without needing ACK
    Device environment: fix a crash if env_dut is None
    Unavailable qemu command should not fail unit tests.
    Use character_delays instead of character-delays
    Tests: Use the name defined in the job definition
    Show when a revision is being applied for VCS
    Fix bug #2263 - parameters and params reference in job def and test def
    Improve logging and use lazy logging
    Log more test results metadata
    LAVA-708 - Device path should be a list
    Support kickstart installations on grub, and centos distro type
    Allow for a prefix with nfsrootfs
    Finalize: send the job status with the right level
    log: send the full exception untouched
    beaglebone-black: update load addresses for larger multiplatform kernels
    Take into account, device_path that is unset.
    Fix YAML formatting of wait string log
    change the result logging format
    Add sample nexus9 device dictionary.
    LAVA-701 - Support vendor flashing using fastboot.
    utils/messages.py: fix out of index error
    Add support for fixup dictionary and patterns
    Ensure guest command is available in multinode
    Stop V2 test shells needing an ACK from the dispatcher
    logging: add datetime and a better structure
    Upgrade the failure test case for lavabot
    First batch of VExpress changes
    Handle ValueError while waiting

 -- Neil Williams <codehelp@debian.org>  Mon, 08 Aug 2016 08:27:31 +0100

lava-dispatcher (2016.6-2) unstable; urgency=medium

  * Align architecture list with guestfs support, also dropping armel

 -- Neil Williams <codehelp@debian.org>  Sat, 11 Jun 2016 12:18:52 +0100

lava-dispatcher (2016.6-1) unstable; urgency=medium

  * New production release
  * Load the overlay as an extra QEMU drive to prevent
    need for loopback devices.
  * Support delays between sending characters for all actions
  * LXC support for fastboot and adb and drop the need for adb or
    fastboot to be installed.
  * Remove adb related code
  * Port V2 unit tests only to python3
  * ZMQ: Support encryption of the logs sent to the server
  * Add support for QEMU Debian Installer tests
  * Update standards version (no changes)
  * Remove adb and fastboot from recommends and add python-guestfs as a
    dependency.

 -- Neil Williams <codehelp@debian.org>  Tue, 07 Jun 2016 07:50:08 +0100

lava-dispatcher (2016.4-2) unstable; urgency=medium

  * Add extra packages, schroot & bzr, for autopkgtest.

 -- Neil Williams <codehelp@debian.org>  Wed, 20 Apr 2016 15:27:35 +0100

lava-dispatcher (2016.4-1) unstable; urgency=medium

  * New production release
    Allow for adb not being available on some arches
    Support ramdisks that are not compressed
    Move the ramdisk header requirements into the device template
    Fix calling the Bzr unit tests
    Use tar flags from deployment data when unpacking overlay
    kvm-aarch32: introduce device type for 32-bit guest on 64-bit KVM
    host
    kvm-aarch64: expose a virtual random number generator (RNG) to the
    guest
    Provide an apache2 config for V2 workers
    Initial support for device using GRUB bootloader in V2
    Add in the ability to halt the V1 master image before powering off
    No longer require ssh options or identity_file
    Don't use -p port in SCP options

 -- Neil Williams <codehelp@debian.org>  Mon, 18 Apr 2016 15:04:32 +0100

lava-dispatcher (2016.3-1) unstable; urgency=medium

  * New production release.
  * Update standards version.
  * Update copyright file with changes from debmake
  * Ensure lava-slave log file is rotated
  * Fix handling of ramdisk when combined with NFS for armmp testing.
  * Add ConfigObj support for improved tftp config parsing.
  * Combine compression handling for consistent handling.
  * Workaround broken 302 redirects.

 -- Neil Williams <codehelp@debian.org>  Fri, 04 Mar 2016 15:03:01 +0000

lava-dispatcher (2016.2-1) unstable; urgency=medium

  * New production release 

 -- Neil Williams <codehelp@debian.org>  Tue, 02 Feb 2016 08:34:13 +0000

lava-dispatcher (2015.12-1) unstable; urgency=medium

  * New production release

 -- Neil Williams <codehelp@debian.org>  Mon, 14 Dec 2015 09:40:30 +0000

lava-dispatcher (2015.11-1) unstable; urgency=medium

  * New production release

 -- Neil Williams <codehelp@debian.org>  Mon, 02 Nov 2015 13:35:50 +0000

lava-dispatcher (2015.9-1) unstable; urgency=medium

  * New production release
  * Add Senthil Kumaran S (stylesen) as an uploader.

 -- Senthil Kumaran S (stylesen) <stylesen@gmail.com>  Thu, 10 Sep 2015 13:59:10 +0530

lava-dispatcher (2015.8.1-1) unstable; urgency=medium

  * Hot fix production release

 -- Neil Williams <codehelp@debian.org>  Fri, 07 Aug 2015 10:29:26 +0100

lava-dispatcher (2015.8-1) unstable; urgency=medium

  [ Senthil Kumaran S (stylesen) ]
  * Add lxc and bridge-utils to recommended dependency

  [ Neil Williams ]
  * New production release
  * Stop including /etc/default/tftpd-hpa (Closes: #791614)

 -- Neil Williams <codehelp@debian.org>  Mon, 03 Aug 2015 08:36:57 +0100

lava-dispatcher (2015.07-1) unstable; urgency=medium

  * New production release

 -- Neil Williams <codehelp@debian.org>  Mon, 06 Jul 2015 09:19:46 +0100

lava-dispatcher (2015.06-1) unstable; urgency=medium

  * New upstream production release
  * Ensure usable permissions for the vmgroups public key

 -- Neil Williams <codehelp@debian.org>  Thu, 11 Jun 2015 09:24:39 +0100

lava-dispatcher (2015.05-1~bpo8+1) jessie-backports; urgency=medium

  * Rebuild for jessie-backports.

 -- Neil Williams <codehelp@debian.org>  Fri, 15 May 2015 11:37:43 +0100

lava-dispatcher (2015.05-1) unstable; urgency=medium

  * New production release for unstable.
  * Add support for using a static timestamp on manpage.
  * Tidy up dep-5 file listings in copyright

 -- Neil Williams <codehelp@debian.org>  Wed, 22 Apr 2015 14:00:29 +0100

lava-dispatcher (2015.04-1) experimental; urgency=medium

  * New production release
  * Includes new slave daemon for refactoring support.

 -- Neil Williams <codehelp@debian.org>  Wed, 08 Apr 2015 10:33:46 +0100

lava-dispatcher (2015.03-1) experimental; urgency=medium

  * New production release.
  * Update adt test run dependencies 
  * Add nose to pydist-overrides

 -- Neil Williams <codehelp@debian.org>  Wed, 11 Feb 2015 16:40:38 +0800

lava-dispatcher (2015.01-1) experimental; urgency=medium

  * New production release
  * Add xz-utils for xz and lzma support.
  * Add lintian override for more test shell support scripts for
    openembedded.

 -- Neil Williams <codehelp@debian.org>  Wed, 11 Feb 2015 13:39:16 +0800

lava-dispatcher (2014.12-1) experimental; urgency=medium

  * New production release
  * Add dh-python to Build-Depends
  * Add telnet to test dependencies
  * Add support for netifaces dependency.

 -- Neil Williams <codehelp@debian.org>  Thu, 04 Dec 2014 08:59:20 +0000

lava-dispatcher (2014.09.1-1) unstable; urgency=medium

  * New hotfix release cherry-picking upstream fixes,
    reviews 3326, 3349 and 3328.
  * Update standards version, no changes
  * Add file to dependencies for use in preparing test overlays.
  * Fix watch file to use upstream git tags

 -- Neil Williams <codehelp@debian.org>  Mon, 20 Oct 2014 18:03:23 +0100

lava-dispatcher (2014.09-1) unstable; urgency=low

  * New upstream release
  * Add git to autopkgtest dependencies
  * Includes support for download urls containing a username &
    password. Patch from Sjoerd Simons. (Closes: #762572)
  * Recreate ext4 filesystems on the DUT in master mode
    (Closes: #762534)

 -- Neil Williams <codehelp@debian.org>  Fri, 03 Oct 2014 15:31:38 +0100

lava-dispatcher (2014.08.2-1) unstable; urgency=medium

  * New production release, including fixes to enable kernel dhcp for
    ramdisk booting, SELinux support for test images an tarballs used
    by master images, add support for dynamic master images, add QEMU
    device types for arm, mips, ppc and aarch64, add support for slave
    device and add role parameter to all remaining JSON schema.

 -- Neil Williams <codehelp@debian.org>  Wed, 17 Sep 2014 10:28:21 -0700

lava-dispatcher (2014.07.1-1) unstable; urgency=medium

  * New upstream bug fix release, including support files
    for lava-dispatcher unit tests(Closes: #758012), support
    for retaining SELinux support in test images and tarballs
    and enable ramdisk booting for cubieboard3.
  * Adapt lintian overrides for new support files

 -- Neil Williams <codehelp@debian.org>  Sun, 17 Aug 2014 11:23:02 +0100

lava-dispatcher (2014.07-1) unstable; urgency=medium

  * New production release
  * Drop use of sync inside dispatcher code.
  * Add proxy support for git and bzr clone operations
  * Raise an error if fetching the test definition fails.
  * Add bzr and launchpadlib to recommends to support test definitions
  * Depend on SELinux support from tar

 -- Neil Williams <codehelp@debian.org>  Thu, 07 Aug 2014 11:35:58 +0100

lava-dispatcher (2014.06.2-1) unstable; urgency=medium

  * New upstream bug fix release for proxy support.
  * Add pep8 to the testsuite dependencies as
    setup.py lists it upstream. (Closes: #755695)

 -- Neil Williams <codehelp@debian.org>  Wed, 23 Jul 2014 19:27:28 +0100

lava-dispatcher (2014.06.1-1) unstable; urgency=medium

  * New upstream release

 -- Neil Williams <codehelp@debian.org>  Tue, 22 Jul 2014 16:49:42 +0100

lava-dispatcher (2014.06-1) unstable; urgency=medium

  * New upstream production release. 

 -- Neil Williams <codehelp@debian.org>  Wed, 02 Jul 2014 18:48:20 +0100

lava-dispatcher (2014.05.32.13-1) unstable; urgency=medium

  * Use the device and device-types defaults from /usr/lib
    and leave /etc/ for admin overrides only. 

 -- Neil Williams <codehelp@debian.org>  Tue, 01 Jul 2014 16:51:49 +0100

lava-dispatcher (2014.05.29.18-1) unstable; urgency=medium

  * New upstream release
  * conflict & provide the binary package of dashboard-bundle, not the
    source.

 -- Neil Williams <codehelp@debian.org>  Sun, 29 Jun 2014 19:38:43 +0100

lava-dispatcher (2014.05.11.14-1) unstable; urgency=medium

  * New upstream release
  * Add the new vm_group scripts to lintian overrides.
  * Update for merge into upstream master branch.

 -- Neil Williams <codehelp@debian.org>  Wed, 21 May 2014 09:54:18 +0100

lava-dispatcher (2014.04.16-1) experimental; urgency=medium

  * Initial release. (Closes: #747355: ITP: lava-dispatcher -- Linaro
    Automated Validation Architecture dispatcher)
  * Target experimental during final testing.

 -- Neil Williams <codehelp@debian.org>  Fri, 16 May 2014 21:13:36 +0100

lava-dispatcher (0.33.3-10) unstable; urgency=medium

  * Add setuptools dependency and override dh_fixperms for the vm_groups
    key file.
  * Migrate to support LAVANETWORKIFACE and avoid changing existing
    details in /etc/
  * Adapt lintian overrides for changes in python 2.7.6 which no longer
    moves files into /usr/share/pyshared

 -- Neil Williams <codehelp@debian.org>  Wed, 07 May 2014 20:04:45 +0100

lava-dispatcher (0.33.3-9) unstable; urgency=medium

  * Move lava-dispatch to /usr/sbin as it must be run as root.
  * Add support for vm-group ssh keys

 -- Neil Williams <codehelp@debian.org>  Wed, 30 Apr 2014 10:06:41 +0100

lava-dispatcher (0.33.3-8) unstable; urgency=medium

  * Include updates from tip including lzma support
  * Add recommendation for qemu-system-arm on armhf in preparation for
    vm_groups testing.

 -- Neil Williams <codehelp@debian.org>  Fri, 25 Apr 2014 10:34:43 +0100

lava-dispatcher (0.33.3-7) unstable; urgency=medium

  * Add LAVA_NETWORK_IFACE support for dispatchers which change network
    frequently.
  * Update home page location
  * Add sudo as a dependency and nfs support in recommends.

 -- Neil Williams <codehelp@debian.org>  Mon, 14 Apr 2014 10:43:07 +0100

lava-dispatcher (0.33.3-6) unstable; urgency=medium

  * Add arch-dependent libguestfs-tools recommendation.

 -- Neil Williams <codehelp@debian.org>  Sat, 29 Mar 2014 22:21:34 +0000

lava-dispatcher (0.33.3-5) unstable; urgency=medium

  * Add postinst support for retrieving the dispatcher IP addr

 -- Neil Williams <codehelp@debian.org>  Mon, 17 Mar 2014 15:59:15 +0000

lava-dispatcher (0.33.3-4) unstable; urgency=medium

  * Convert to arch:any to support arch-specific recommends like qemu-
    system-x86

 -- Neil Williams <codehelp@debian.org>  Mon, 10 Mar 2014 15:34:12 +0000

lava-dispatcher (0.33.3-3) unstable; urgency=medium

  * Depend on kpartx and package an almost usable lava-dispatcher.conf
  * Add parted for calculation of offsets for loop back mount
    operations.

 -- Neil Williams <codehelp@debian.org>  Tue, 17 Dec 2013 12:22:55 +0000

lava-dispatcher (0.33.3-2) unstable; urgency=medium

  * Recommend qemu-system-x86 to support KVM devices
  * Update copyright

 -- Neil Williams <codehelp@debian.org>  Fri, 13 Dec 2013 13:15:03 +0000

lava-dispatcher (0.33.3-1) unstable; urgency=medium

  * New upstream version

 -- Neil Williams <codehelp@debian.org>  Thu, 28 Nov 2013 11:20:29 +0000

lava-dispatcher (0.33.2-5) unstable; urgency=medium

  * Update python overrides to pick up versioned
    dependency information from upstream setup.py. 

 -- Neil Williams <codehelp@debian.org>  Wed, 27 Nov 2013 15:52:18 +0000

lava-dispatcher (0.33.2-4) unstable; urgency=low

  * Drop doc package, rst files moved to lava-server upstream

 -- Neil Williams <codehelp@debian.org>  Wed, 13 Nov 2013 22:28:05 +0000

lava-dispatcher (0.33.2-3) unstable; urgency=low

  * Adapt to new locations for the lava_test_shell support files.

 -- Neil Williams <codehelp@debian.org>  Mon, 11 Nov 2013 11:11:47 +0000

lava-dispatcher (0.33.2-2) unstable; urgency=low

  * Package the LMP support files

 -- Neil Williams <codehelp@debian.org>  Wed, 06 Nov 2013 11:23:12 +0000

lava-dispatcher (0.33.2-1) unstable; urgency=low

  * Update for working support of a native Debian LAVA install.

 -- Neil Williams <codehelp@debian.org>  Tue, 08 Oct 2013 16:25:46 +0100

lava-dispatcher (0.33.1-1) unstable; urgency=low

  * Merge MultiNode into tip

 -- Neil Williams <codehelp@debian.org>  Fri, 30 Aug 2013 12:39:11 +0100

lava-dispatcher (0.32.3-1) unstable; urgency=low

  * Testing MultiNode

 -- Neil Williams <codehelp@debian.org>  Tue, 02 Jul 2013 22:38:39 +0100 

lava-dispatcher (0.32.2-3) unstable; urgency=low

  * Add antonio's kvm branch for testing
  * Set the default_config_dir for when not inside a virtualenv

 -- Neil Williams <codehelp@debian.org>  Mon, 10 Jun 2013 12:10:36 +0100

lava-dispatcher (0.32.2-2) unstable; urgency=low

  * Add helpers for correct dependency calculations.

 -- Neil Williams <codehelp@debian.org>  Wed, 05 Jun 2013 20:47:59 +0100

lava-dispatcher (0.32.2-1) unstable; urgency=low

  * Initial release

 -- Neil Williams <codehelp@debian.org>  Fri, 24 May 2013 13:11:45 +0100
